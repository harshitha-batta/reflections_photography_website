<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reflections</title>
  <link rel="stylesheet" href="/navbar.css"> <!-- Navbar styles -->
  <link rel="stylesheet" href="/gallery.css"> <!-- Home Page styles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montez&family=Pacifico&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <%- include('layouts/main') %>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="hero">
      <h1>Discover the Beauty of Reflections</h1>
      <p>Explore breathtaking photos and unleash your creativity.</p>
    </section>

    <!-- Categories Section -->
    <section class="categories">
      <h2>Categories</h2>
      <div class="category-container">
        <button class="scroll-arrow scroll-left" aria-label="Scroll Left">&larr;</button>
        <div class="category-buttons-wrapper">
          <div class="category-buttons">
            <button>Trees</button>
            <button>Blur</button>
            <button>Beautiful</button>
            <button>Love</button>
            <button>Daylight</button>
            <button>Wood</button>
            <button>Leaf</button>
            <button>Flower</button>
            <button>Fall</button>
            <button>City</button>
            <button>Beach</button>
            <button>Rain</button>
            <button>Autumn</button>
            <button>Mountains</button>
            <button>Nature</button>
            <button>Desert</button>
            <button>Winter</button>
            <button>Travel</button>
            <button>Summer</button>
            <button>HD Wallpapers</button>
            <button>Forest</button>
            <button>Spring</button>
          </div>
        </div>
        <button class="scroll-arrow scroll-right" aria-label="Scroll Right">&rarr;</button>
      </div>
    </section>

    <!-- Dynamic Featured Collections Section -->
    <section class="featured">
      <h2>Featured Collections</h2>
      <div class="gallery">
        <% photos.forEach(photo => { %>
          <div class="gallery-item">
            <img src="<%= photo.imagePath %>" alt="<%= photo.title %>">
            <h3><%= photo.title %></h3>
            <p><%= photo.description %></p>
            <p>Category: <%= photo.category %></p>
            <p>Likes: <%= photo.likes.length %></p>
          </div>
        <% }) %>
      </div>
    </section>

    <!-- Static Featured Collections Section -->
    <section class="featured">
      <h2>Featured Collections</h2>
      <div class="gallery">
        <div class="gallery-item"><img src="https://images.pexels.com/photos/220051/pexels-photo-220051.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Placeholder"></div>
        <div class="gallery-item"><img src="https://images.pexels.com/photos/221166/pexels-photo-221166.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Placeholder"></div>
        <div class="gallery-item"><img src="https://images.pexels.com/photos/3734845/pexels-photo-3734845.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Placeholder"></div>
        <div class="gallery-item"><img src="https://images.pexels.com/photos/2471458/pexels-photo-2471458.jpeg?auto=compress&cs=tinysrgb&w=800" alt="Placeholder"></div>
      </div>
    </section>
  </main>

  <!-- JavaScript -->
  <script>
    const categoryWrapper = document.querySelector('.category-buttons-wrapper');
    const categoryButtons = document.querySelector('.category-buttons');
    const scrollLeft = document.querySelector('.scroll-left');
    const scrollRight = document.querySelector('.scroll-right');

    // Scroll left
    scrollLeft.addEventListener('click', () => {
      categoryWrapper.scrollBy({
        left: -200, // Adjust scroll amount
        behavior: 'smooth',
      });
    });

    // Scroll right
    scrollRight.addEventListener('click', () => {
      categoryWrapper.scrollBy({
        left: 200, // Adjust scroll amount
        behavior: 'smooth',
      });
    });

    // Update blur effect on scroll
    categoryWrapper.addEventListener('scroll', () => {
      const scrollPosition = categoryWrapper.scrollLeft;
      const maxScroll = categoryButtons.scrollWidth - categoryWrapper.clientWidth;

      // Add blur class if near the edges
      if (scrollPosition > 0) {
        categoryWrapper.classList.add('left-blur');
      } else {
        categoryWrapper.classList.remove('left-blur');
      }

      if (scrollPosition < maxScroll) {
        categoryWrapper.classList.add('right-blur');
      } else {
        categoryWrapper.classList.remove('right-blur');
      }
    });
  </script>
</body>
</html>
